{"ast":null,"code":"var _jsxFileName = \"/Users/amoako/Desktop/task-app/task-app/client/src/components/createTaskForm/createTaskForm.tsx\",\n  _s = $RefreshSig$();\nimport { Alert, AlertTitle, Box, Button, LinearProgress, Stack, Typography } from '@mui/material';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Priority } from './enums/Priority';\nimport { Status } from './enums/Status';\nimport { TaskDateField } from './_taskDateField';\nimport { TaskDescriptionField } from './_taskDescriptionField';\nimport { TaskSelectField } from './_taskSelectField';\nimport { TaskStatusChangedContext } from '../../context';\nimport { TaskTitleField } from './_taskTitleField';\nimport { sendApiRequest } from '../../helpers/sendApiRequest';\nimport { useMutation } from 'react-query';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CreateTaskForm = () => {\n  _s();\n  // declare component states\n  const [title, setTitle] = useState(undefined);\n  const [description, setDescription] = useState(undefined);\n  const [date, setDate] = useState(new Date());\n  const [status, setStatus] = useState(Status.todo);\n  const [priority, setPriority] = useState(Priority.normal);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const tasksUpdatedContext = useContext(TaskStatusChangedContext);\n\n  // Create task mutation\n  const createTaskMutation = useMutation(data => sendApiRequest('http://localhost:4789/tasks', 'POST', data));\n  function createTaskHandler() {\n    if (!title || !date || !description) {\n      return;\n    }\n    const task = {\n      title,\n      description,\n      date: date.toString(),\n      status,\n      priority\n    };\n    createTaskMutation.mutate(task);\n  }\n\n  /*\n   * Manage Side Effects inside the application\n   */\n  useEffect(() => {\n    if (createTaskMutation.isSuccess) {\n      setShowSuccess(true);\n      tasksUpdatedContext.toggle();\n    }\n    const successTimeout = setTimeout(() => {\n      setShowSuccess(false);\n    }, 7000);\n    return () => {\n      clearTimeout(successTimeout);\n    };\n  }, [createTaskMutation.isSuccess]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    width: \"100%\",\n    px: 4,\n    my: 6,\n    children: [showSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        width: '100%',\n        marginBottom: '16px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n        children: \"Success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), \"The task has been created successfully\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      mb: 2,\n      component: \"h2\",\n      variant: \"h6\",\n      children: \"Create A Task\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Stack, {\n      sx: {\n        width: '100%'\n      },\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(TaskTitleField, {\n        onChange: e => setTitle(e.target.value),\n        disabled: createTaskMutation.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TaskDescriptionField, {\n        onChange: e => setDescription(e.target.value),\n        disabled: createTaskMutation.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TaskDateField, {\n        value: date,\n        onChange: date => setDate(date),\n        disabled: createTaskMutation.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        sx: {\n          width: '100%'\n        },\n        direction: \"row\",\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(TaskSelectField, {\n          label: \"Status\",\n          name: \"status\",\n          value: status,\n          disabled: createTaskMutation.isLoading,\n          onChange: e => setStatus(e.target.value),\n          items: [{\n            value: Status.todo,\n            label: Status.todo.toUpperCase()\n          }, {\n            value: Status.inProgress,\n            label: Status.inProgress.toUpperCase()\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TaskSelectField, {\n          label: \"Priority\",\n          name: \"priority\",\n          disabled: createTaskMutation.isLoading,\n          value: priority,\n          onChange: e => setPriority(e.target.value),\n          items: [{\n            value: Priority.low,\n            label: Priority.low\n          }, {\n            value: Priority.normal,\n            label: Priority.normal\n          }, {\n            value: Priority.high,\n            label: Priority.high\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), createTaskMutation.isLoading && /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 42\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: !title || !description || !date || !status || !priority,\n        onClick: createTaskHandler,\n        variant: \"contained\",\n        size: \"large\",\n        fullWidth: true,\n        children: \"Create A Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateTaskForm, \"/03JSk1nLYlIYDaLLULTDb69Js8=\", false, function () {\n  return [useMutation];\n});\n_c = CreateTaskForm;\nvar _c;\n$RefreshReg$(_c, \"CreateTaskForm\");","map":{"version":3,"names":["Alert","AlertTitle","Box","Button","LinearProgress","Stack","Typography","React","useContext","useEffect","useState","Priority","Status","TaskDateField","TaskDescriptionField","TaskSelectField","TaskStatusChangedContext","TaskTitleField","sendApiRequest","useMutation","jsxDEV","_jsxDEV","CreateTaskForm","_s","title","setTitle","undefined","description","setDescription","date","setDate","Date","status","setStatus","todo","priority","setPriority","normal","showSuccess","setShowSuccess","tasksUpdatedContext","createTaskMutation","data","createTaskHandler","task","toString","mutate","isSuccess","toggle","successTimeout","setTimeout","clearTimeout","display","flexDirection","alignItems","width","px","my","children","severity","sx","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","mb","component","variant","spacing","onChange","e","target","value","disabled","isLoading","direction","label","name","items","toUpperCase","inProgress","low","high","onClick","size","fullWidth","_c","$RefreshReg$"],"sources":["/Users/amoako/Desktop/task-app/task-app/client/src/components/createTaskForm/createTaskForm.tsx"],"sourcesContent":["import {\n  Alert,\n  AlertTitle,\n  Box,\n  Button,\n  LinearProgress,\n  Stack,\n  Typography,\n} from '@mui/material';\nimport React, {\n  FC,\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\n\nimport { ICreateTask } from '../taskArea/interfaces/ICreateTask';\nimport { Priority } from './enums/Priority';\nimport { Status } from './enums/Status';\nimport { TaskDateField } from './_taskDateField';\nimport { TaskDescriptionField } from './_taskDescriptionField';\nimport { TaskSelectField } from './_taskSelectField';\nimport { TaskStatusChangedContext } from '../../context';\nimport { TaskTitleField } from './_taskTitleField';\nimport { sendApiRequest } from '../../helpers/sendApiRequest';\nimport { useMutation } from 'react-query';\n\nexport const CreateTaskForm: FC = (): ReactElement => {\n  // declare component states\n  const [title, setTitle] = useState<string | undefined>(\n    undefined,\n  );\n  const [description, setDescription] = useState<\n    string | undefined\n  >(undefined);\n  const [date, setDate] = useState<Date | null>(new Date());\n  const [status, setStatus] = useState<string>(Status.todo);\n  const [priority, setPriority] = useState<string>(\n    Priority.normal,\n  );\n  const [showSuccess, setShowSuccess] =\n    useState<boolean>(false);\n\n  const tasksUpdatedContext = useContext(\n    TaskStatusChangedContext,\n  );\n\n  // Create task mutation\n  const createTaskMutation = useMutation(\n    (data: ICreateTask) =>\n      sendApiRequest(\n        'http://localhost:4789/tasks',\n        'POST',\n        data,\n      ),\n  );\n\n  function createTaskHandler() {\n    if (!title || !date || !description) {\n      return;\n    }\n\n    const task: ICreateTask = {\n      title,\n      description,\n      date: date.toString(),\n      status,\n      priority,\n    };\n    createTaskMutation.mutate(task);\n  }\n\n  /*\n   * Manage Side Effects inside the application\n   */\n  useEffect(() => {\n    if (createTaskMutation.isSuccess) {\n      setShowSuccess(true);\n      tasksUpdatedContext.toggle();\n    }\n\n    const successTimeout = setTimeout(() => {\n      setShowSuccess(false);\n    }, 7000);\n\n    return () => {\n      clearTimeout(successTimeout);\n    };\n  }, [createTaskMutation.isSuccess]);\n\n  return (\n    <Box\n      display=\"flex\"\n      flexDirection=\"column\"\n      alignItems=\"flex-start\"\n      width=\"100%\"\n      px={4}\n      my={6}\n    >\n      {showSuccess && (\n        <Alert\n          severity=\"success\"\n          sx={{ width: '100%', marginBottom: '16px' }}\n        >\n          <AlertTitle>Success</AlertTitle>\n          The task has been created successfully\n        </Alert>\n      )}\n\n      <Typography mb={2} component=\"h2\" variant=\"h6\">\n        Create A Task\n      </Typography>\n\n      <Stack sx={{ width: '100%' }} spacing={2}>\n        <TaskTitleField\n          onChange={(e) => setTitle(e.target.value)}\n          disabled={createTaskMutation.isLoading}\n        />\n        <TaskDescriptionField\n          onChange={(e) => setDescription(e.target.value)}\n          disabled={createTaskMutation.isLoading}\n        />\n        <TaskDateField\n          value={date}\n          onChange={(date) => setDate(date)}\n          disabled={createTaskMutation.isLoading}\n        />\n        <Stack\n          sx={{ width: '100%' }}\n          direction=\"row\"\n          spacing={2}\n        >\n          <TaskSelectField\n            label=\"Status\"\n            name=\"status\"\n            value={status}\n            disabled={createTaskMutation.isLoading}\n            onChange={(e) =>\n              setStatus(e.target.value as string)\n            }\n            items={[\n              {\n                value: Status.todo,\n                label: Status.todo.toUpperCase(),\n              },\n              {\n                value: Status.inProgress,\n                label: Status.inProgress.toUpperCase(),\n              },\n            ]}\n          />\n          <TaskSelectField\n            label=\"Priority\"\n            name=\"priority\"\n            disabled={createTaskMutation.isLoading}\n            value={priority}\n            onChange={(e) =>\n              setPriority(e.target.value as string)\n            }\n            items={[\n              {\n                value: Priority.low,\n                label: Priority.low,\n              },\n              {\n                value: Priority.normal,\n                label: Priority.normal,\n              },\n              {\n                value: Priority.high,\n                label: Priority.high,\n              },\n            ]}\n          />\n        </Stack>\n        {createTaskMutation.isLoading && <LinearProgress />}\n        <Button\n          disabled={\n            !title ||\n            !description ||\n            !date ||\n            !status ||\n            !priority\n          }\n          onClick={createTaskHandler}\n          variant=\"contained\"\n          size=\"large\"\n          fullWidth\n        >\n          Create A Task\n        </Button>\n      </Stack>\n    </Box>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}