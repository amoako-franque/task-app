{"ast":null,"code":"function returnCorrectRequest(method, data) {\n  if (method === 'GET') {\n    return {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n  }\n  return {\n    method: method,\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n}\nexport async function sendApiRequest(url, method, data = {}) {\n  const response = await fetch(url, returnCorrectRequest(method, data));\n  if (!response.ok) {\n    const message = `An error has occurred: ${response.status}`;\n    throw new Error(message);\n  }\n  return await response.json();\n}","map":{"version":3,"names":["returnCorrectRequest","method","data","headers","body","JSON","stringify","sendApiRequest","url","response","fetch","ok","message","status","Error","json"],"sources":["/Users/amoako/Desktop/task-app/task-app/client/src/helpers/sendApiRequest.ts"],"sourcesContent":["type Method = 'GET' | 'POST' | 'PUT' | 'DELETE';\n\nfunction returnCorrectRequest(\n  method: Method,\n  data: unknown,\n): RequestInit {\n  if (method === 'GET') {\n    return {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n  }\n\n  return {\n    method: method,\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n}\n\nexport async function sendApiRequest<T>(\n  url: string,\n  method: Method,\n  data: unknown = {},\n): Promise<T> {\n  const response = await fetch(\n    url,\n    returnCorrectRequest(method, data),\n  );\n\n  if (!response.ok) {\n    const message = `An error has occurred: ${response.status}`;\n    throw new Error(message);\n  }\n\n  return (await response.json()) as Promise<T>;\n}\n"],"mappings":"AAEA,SAASA,oBAAoBA,CAC3BC,MAAc,EACdC,IAAa,EACA;EACb,IAAID,MAAM,KAAK,KAAK,EAAE;IACpB,OAAO;MACLA,MAAM,EAAEA,MAAM;MACdE,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC;EACH;EAEA,OAAO;IACLF,MAAM,EAAEA,MAAM;IACdG,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;IAC1BC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC;AACH;AAEA,OAAO,eAAeI,cAAcA,CAClCC,GAAW,EACXP,MAAc,EACdC,IAAa,GAAG,CAAC,CAAC,EACN;EACZ,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAC1BF,GAAG,EACHR,oBAAoB,CAACC,MAAM,EAAEC,IAAI,CACnC,CAAC;EAED,IAAI,CAACO,QAAQ,CAACE,EAAE,EAAE;IAChB,MAAMC,OAAO,GAAG,0BAA0BH,QAAQ,CAACI,MAAM,EAAE;IAC3D,MAAM,IAAIC,KAAK,CAACF,OAAO,CAAC;EAC1B;EAEA,OAAQ,MAAMH,QAAQ,CAACM,IAAI,CAAC,CAAC;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}